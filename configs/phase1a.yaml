# Phase 1A: Parametric EQ Only (Baseline)
# Pure white-box interpretable model

model:
  phase: "1A"

  encoder:
    latent_dim: 256  # Reduced from 512 (smaller dataset)

  parametric_decoder:
    num_bands: 5
    hidden_dim: 128  # Reduced from 256
    dropout: 0.3     # Increased from 0.2 (more regularization)

training:
  batch_size: 8
  learning_rate: 0.0001
  epochs: 50
  weight_decay: 0.01  # L2 regularization for small dataset

  loss_weights:
    spectral: 1.0
    perceptual: 0.1  # Re-enabled with fixed ISO 226 frequency-domain weighting
    loudness: 0.05   # Increased from 0.01 (val loudness was high)
    param_reg: 0.001

data:
  segment_length: 5.0
  sample_rate: 44100
  data_dir: "C:/Users/danie/Documents/!ELEC0030 Project/neural-perceptual-master training/processed/train"
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  augment: true
  num_workers: 4
  
  # CRITICAL: LUFS normalization
  # Set to true initially to force model to learn EQ/dynamics, not just volume
  # Both pre/post mastering pairs normalized to same LUFS level
  normalize_lufs: true    # Recommended for initial training
  target_lufs: -14.0      # Streaming standard (-14 LUFS)

checkpoint:
  save_every: 10  
