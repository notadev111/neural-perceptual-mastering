# Phase 1A: Parametric EQ Only (Baseline)
# Pure white-box interpretable model

model:
  phase: "1A"

  encoder:
    latent_dim: 512  # RESTORED: Back to 512 for better capacity

  parametric_decoder:
    num_bands: 5
    hidden_dim: 256  # RESTORED: Back to 256 for stability
    dropout: 0.2     # REDUCED: Less aggressive dropout

training:
  batch_size: 4  # REDUCED from 8 due to 8x longer sequences (stride=2 encoder fix)
  learning_rate: 0.0001
  epochs: 50
  weight_decay: 0.001  # REDUCED: Less aggressive L2 regularization

  loss_weights:
    spectral: 1.0
    perceptual: 0.1  # Re-enabled with fixed ISO 226 frequency-domain weighting
    loudness: 0.01   # REDUCED: Back to 0.01 (was causing instability at 0.05)
    param_reg: 0.01  # INCREASED: Constrain extreme EQ parameters

data:
  segment_length: 5.0
  sample_rate: 44100
  data_dir: "/home/zceeddu/neural-perceptual-mastering/data/processed/train/"
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  augment: true
  num_workers: 4
  
  # CRITICAL: LUFS normalization
  # Set to true initially to force model to learn EQ/dynamics, not just volume
  # Both pre/post mastering pairs normalized to same LUFS level
  normalize_lufs: true    # Recommended for initial training
  target_lufs: -14.0      # Streaming standard (-14 LUFS)

checkpoint:
  save_every: 10  
