# Phase 1C: Adaptive Band Selection + Residual (Novel Contribution)
# Model learns which EQ bands to activate (5-10 bands)

model:
  phase: "1C"
  
  encoder:
    latent_dim: 512
  
  parametric_decoder:
    max_bands: 10  # Can use 5-10 bands dynamically
    hidden_dim: 256
    dropout: 0.2
  
  residual_decoder:
    base_channels: 32

training:
  batch_size: 8
  learning_rate: 0.0001
  epochs: 100
  
  loss_weights:
    spectral: 1.0
    perceptual: 0.1
    loudness: 0.01
    param_reg: 0.001  # May need tuning for adaptive case

data:
  data_dir: "data"
  segment_length: 5.0
  sample_rate: 44100
  train_split: 0.8
  val_split: 0.1
  test_split: 0.1
  augment: true
  num_workers: 4
  
  # CRITICAL: LUFS normalization
  # Set to true initially to force model to learn EQ/dynamics, not just volume
  # Both pre/post mastering pairs normalized to same LUFS level
  normalize_lufs: true    # Recommended for initial training
  target_lufs: -14.0      # Streaming standard (-14 LUFS)

checkpoint:
  save_every: 10

# Analysis settings for adaptive bands
analysis:
  track_band_usage: true  # Track which bands are active
  visualize_selection: true  # Visualize band selection patterns
